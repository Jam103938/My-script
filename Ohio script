local autoQueueEnabled = false

local function checkForMoneyPrinters()
    local itemSpawns = workspace:FindFirstChild("ItemSpawns")
    if itemSpawns then
        local sewerItems = itemSpawns:FindFirstChild("sewerItems")
        local items = itemSpawns:FindFirstChild("items")

        if (sewerItems and sewerItems:FindFirstChild("Money Printer")) or (items and items:FindFirstChild("Money Printer")) then
            return true
        end
    end
    return false
end

local function tweenTo(part)
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        local tweenService = game:GetService("TweenService")
        local tweenInfo = TweenInfo.new((character.HumanoidRootPart.Position - part.Position).Magnitude / 50, Enum.EasingStyle.Linear)
        local tween = tweenService:Create(character.HumanoidRootPart, tweenInfo, {CFrame = part.CFrame})
        tween:Play()
        tween.Completed:Wait()
    end
end

local function createESP(part)
    local billboardGui = Instance.new("BillboardGui", part)
    billboardGui.Size = UDim2.new(0, 100, 0, 50)
    billboardGui.Adornee = part
    billboardGui.AlwaysOnTop = true

    local textLabel = Instance.new("TextLabel", billboardGui)
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = part.Name
    textLabel.BackgroundTransparency = 1
    textLabel.TextColor3 = Color3.new(1, 0, 0)
    textLabel.TextStrokeTransparency = 0.5
end

local function autoQueueMoneyPrinters()
    while autoQueueEnabled do
        local itemSpawns = workspace:FindFirstChild("ItemSpawns")
        local moneyPrinterFound = false

        if itemSpawns then
            local sewerItems = itemSpawns:FindFirstChild("sewerItems")
            local items = itemSpawns:FindFirstChild("items")

            if sewerItems then
                for _, printer in ipairs(sewerItems:GetChildren()) do
                    if printer:IsA("BasePart") then
                        createESP(printer)
                        tweenTo(printer)
                        moneyPrinterFound = true
                        break
                    end
                end
            end

            if items then
                for _, printer in ipairs(items:GetChildren()) do
                    if printer:IsA("BasePart") then
                        createESP(printer)
                        tweenTo(printer)
                        moneyPrinterFound = true
                        break
                    end
                end
            end
        end

        if not moneyPrinterFound then
            -- Server hop logic
            local TeleportService = game:GetService("TeleportService")
            local PlaceId = 7239319209
            local servers = game.HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..PlaceId.."/servers/Public?sortOrder=Asc&limit=100"))
            for _, server in pairs(servers.data) do
                if server.playing < server.maxPlayers then
                    TeleportService:TeleportToPlaceInstance(PlaceId, server.id, game.Players.LocalPlayer)
                    break
                end
            end
        end

        wait(5) -- Add a short delay before re-checking or stopping
    end
end

local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

local Window = OrionLib:MakeWindow({Name = "Ohio Utilities", HidePremium = false, IntroText = "Made By JamJam Ohio Script", SaveConfig = true, ConfigFolder = "OrionTest"})

local mainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

mainTab:AddToggle({
    Name = "Auto Queue Money Printers",
    Default = false,
    Callback = function(value)
        autoQueueEnabled = value
        if autoQueueEnabled then
            autoQueueMoneyPrinters()
        end
    end    
})

OrionLib:Init()
